{% extends 'JLibrary:templates/layout:basic.html.twig' %}

{% block main_content %}
    {% embed 'JLibrary:templates/layout:crud-index.html.twig' %}
        {% block crud_new_path %}{{ path('j29.category.###.new') }}{% endblock %}

        {% set sorting_options = 
            {
                'base_url' : path('j29.category.###.index') ~ 'sort/',
                'paths' : 
                [
                    {
                        'name': 'title > asc',
                        'url': 'title/asc'
                    },
                    {
                        'name': 'title > desc',
                        'url': 'title/desc'
                    },
                    {
                        'name': 'reset',
                        'url': 'reset'
                    }
                ]
            }
        %}
        
        {% block sorting %}
            <div id="js-sorting" class="sorting" data-options="{{ sorting_options|json_encode|e('html_attr') }}"></div>
        {% endblock %}

        {% block crud_table_header %}
            <div class="header h2 basis85">Title</div>
            <div class="header h2 header-actions basis15 center-text">Actions</div>
        {% endblock %}

        {% block crud_table_data %}
            <div class="column basis85">{{ entity.title }}</div>
            <div class="column column-actions basis15"><a href="{{ path('j29.category.###.edit', {'id': entity.id}) }}" class="btn btn-danger">update / delete</a>
            </div>
        {% endblock %}
    {% endembed %}
{% endblock %}

{% block javascript %}
    {# necessary to trigger sorting options #}
    <script type="text/javascript">var j29_sort_crud_index = true;</script>
    {{ parent() }}
{% endblock %}